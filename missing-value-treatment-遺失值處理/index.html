<!DOCTYPE html>
<html lang="zh-TW" prefix="og: http://ogp.me/ns#">
<head>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


	
<title>Missing Value Treatment | 遺失值處理 | 統計 R語言</title>
<meta name="robots" content="max-image-preview:large">


<meta name="description" content="在進行資料分析時，常遇到的問題就是遺失值處理(Missing Value Treatment)。特別是重要特徵變數有遺失值時，是無法輕易忽略的。比如說，在進行回歸模型建置時，資料列若有任一特徵值是NA(Not Available)時，整列資料就將 被忽略不使用，這樣無疑會使我們失去很多資訊。">

<meta property="og:locale" content="zh_TW">
<meta property="og:type" content="article">
<meta property="og:title" content="Missing Value Treatment | 遺失值處理 | 統計 R語言">
<meta property="og:description" content="在進行資料分析時，常遇到的問題就是遺失值處理(Missing Value Treatment)。特別是重要特徵變數有遺失值時，是無法輕易忽略的。比如說，在進行回歸模型建置時，資料列若有任一特徵值是NA(Not Available)時，整列資料就將 被忽略不使用，這樣無疑會使我們失去很多資訊。">
<meta property="og:url" content="/missing-value-treatment-%e9%81%ba%e5%a4%b1%e5%80%bc%e8%99%95%e7%90%86/">
<meta property="og:site_name" content="果醬珍珍•JamJam">
<meta property="article:tag" content="knn">
<meta property="article:tag" content="mice">
<meta property="article:tag" content="missing value treatment">
<meta property="article:tag" content="rpart">
<meta property="article:tag" content="遺失值處理">
<meta property="article:section" content=" 程式與統計">
<meta property="article:published_time" content="2018-08-28T10:50:19+08:00">
<meta property="article:modified_time" content="2020-07-03T02:34:50+08:00">
<meta property="og:updated_time" content="2020-07-03T02:34:50+08:00">
<meta property="og:image" content="/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-1024x683.jpg">
<meta property="og:image:width" content="1024">
<meta property="og:image:height" content="683">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="在進行資料分析時，常遇到的問題就是遺失值處理(Missing Value Treatment)。特別是重要特徵變數有遺失值時，是無法輕易忽略的。比如說，在進行回歸模型建置時，資料列若有任一特徵值是NA(Not Available)時，整列資料就將 被忽略不使用，這樣無疑會使我們失去很多資訊。">
<meta name="twitter:title" content="Missing Value Treatment | 遺失值處理 | 統計 R語言">
<meta name="twitter:image" content="/wp-content/uploads/2018/08/andrew-neel-308138-unsplash.jpg">


<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">



<link rel="stylesheet" id="crayon-css" href="/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-hwj-based-on-monokai-css" href="/wp-content/uploads/crayon-syntax-highlighter/themes/hwj-based-on-monokai/hwj-based-on-monokai.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monospace-css" href="/wp-content/plugins/crayon-syntax-highlighter/fonts/monospace.css" type="text/css" media="all">
<link rel="stylesheet" id="sb_instagram_styles-css" href="/wp-content/plugins/instagram-feed/css/sb-instagram-2-2.min.css" type="text/css" media="all">
<link rel="stylesheet" id="sydney-bootstrap-css" href="/wp-content/themes/hwj-based-on-sydney/css/bootstrap/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="titan-adminbar-styles-css" href="/wp-content/plugins/anti-spam/assets/css/admin-bar.css" type="text/css" media="all">
<link rel="stylesheet" id="sydney-fonts-css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A400%2C400italic%2C600%7CRaleway%3A400%2C500%2C600" type="text/css" media="all">
<link rel="stylesheet" id="sydney-style-css" href="/wp-content/themes/hwj-based-on-sydney/style.css" type="text/css" media="all">
<style id="sydney-style-inline-css" type="text/css">
.site-title { font-size:32px; }
.site-description { font-size:16px; }
#mainnav ul li a { font-size:14px; }
h1 { font-size:52px; }
h2 { font-size:42px; }
h3 { font-size:32px; }
h4 { font-size:25px; }
h5 { font-size:20px; }
h6 { font-size:18px; }
body { font-size:16px; }
.single .hentry .title-post { font-size:24px; }
.header-image { background-size:cover;}
.header-image { height:500px; }
.widget-area .widget_fp_social a,#mainnav ul li a:hover, .sydney_contact_info_widget span, .roll-team .team-content .name,.roll-team .team-item .team-pop .team-social li:hover a,.roll-infomation li.address:before,.roll-infomation li.phone:before,.roll-infomation li.email:before,.roll-testimonials .name,.roll-button.border,.roll-button:hover,.roll-icon-list .icon i,.roll-icon-list .content h3 a:hover,.roll-icon-box.white .content h3 a,.roll-icon-box .icon i,.roll-icon-box .content h3 a:hover,.switcher-container .switcher-icon a:focus,.go-top:hover,.hentry .meta-post a:hover,#mainnav > ul > li > a.active, #mainnav > ul > li > a:hover, button:hover, input[type="button"]:hover, input[type="reset"]:hover, input[type="submit"]:hover, .text-color, .social-menu-widget a, .social-menu-widget a:hover, .archive .team-social li a, a, h1 a, h2 a, h3 a, h4 a, h5 a, h6 a,.classic-alt .meta-post a,.single .hentry .meta-post a { color:#3d3d3d}
.reply,.woocommerce div.product .woocommerce-tabs ul.tabs li.active,.woocommerce #respond input#submit,.woocommerce a.button,.woocommerce button.button,.woocommerce input.button,.project-filter li a.active, .project-filter li a:hover,.preloader .pre-bounce1, .preloader .pre-bounce2,.roll-team .team-item .team-pop,.roll-progress .progress-animate,.roll-socials li a:hover,.roll-project .project-item .project-pop,.roll-project .project-filter li.active,.roll-project .project-filter li:hover,.roll-button.light:hover,.roll-button.border:hover,.roll-button,.roll-icon-box.white .icon,.owl-theme .owl-controls .owl-page.active span,.owl-theme .owl-controls.clickable .owl-page:hover span,.go-top,.bottom .socials li:hover a,.sidebar .widget:before,.blog-pagination ul li.active,.blog-pagination ul li:hover a,.content-area .hentry:after,.text-slider .maintitle:after,.error-wrap #search-submit:hover,#mainnav .sub-menu li:hover > a,#mainnav ul li ul:after, button, input[type="button"], input[type="reset"], input[type="submit"], .panel-grid-cell .widget-title:after { background-color:#3d3d3d}
.roll-socials li a:hover,.roll-socials li a,.roll-button.light:hover,.roll-button.border,.roll-button,.roll-icon-list .icon,.roll-icon-box .icon,.owl-theme .owl-controls .owl-page span,.comment .comment-detail,.widget-tags .tag-list a:hover,.blog-pagination ul li,.hentry blockquote,.error-wrap #search-submit:hover,textarea:focus,input[type="text"]:focus,input[type="password"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="time"]:focus,input[type="week"]:focus,input[type="number"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="color"]:focus, button, input[type="button"], input[type="reset"], input[type="submit"], .archive .team-social li a { border-color:#3d3d3d}
.site-header.float-header { background-color:rgba(0,0,0,0.9);}
@media only screen and (max-width: 1024px) { .site-header { background-color:#000000;}}
.site-title a, .site-title a:hover { color:#ffffff}
.site-description { color:#ffffff}
#mainnav ul li a, #mainnav ul li::before { color:#ffffff}
#mainnav .sub-menu li a { color:#ffffff}
#mainnav .sub-menu li a { background:#1c1c1c}
.text-slider .maintitle, .text-slider .subtitle { color:#ffffff}
body { color:#5e5e5e}
#secondary { background-color:#ffffff}
#secondary, #secondary a, #secondary .widget-title { color:#767676}
.footer-widgets { background-color:#252525}
.btn-menu { color:#ffffff}
#mainnav ul li a:hover { color:#d65050}
.site-footer { background-color:#1c1c1c}
.site-footer,.site-footer a { color:#666666}
.overlay { background-color:#000000}
.page-wrap { padding-top:10px;}
.page-wrap { padding-bottom:100px;}
@media only screen and (max-width: 1025px) {		
			.mobile-slide {
				display: block;
			}
			.slide-item {
				background-image: none !important;
			}
			.header-slider {
			}
			.slide-item {
				height: auto !important;
			}
			.slide-inner {
				min-height: initial;
			} 
		}
@media only screen and (max-width: 780px) { 
    	h1 { font-size: 32px;}
		h2 { font-size: 28px;}
		h3 { font-size: 22px;}
		h4 { font-size: 18px;}
		h5 { font-size: 16px;}
		h6 { font-size: 14px;}
    }

</style>
<link rel="stylesheet" id="sydney-font-awesome-css" href="/wp-content/themes/hwj-based-on-sydney/fonts/font-awesome.min.css" type="text/css" media="all">

<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js" id="jquery-migrate-js"></script>
<script type="text/javascript" id="crayon_js-js-extra">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/localhost\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js" id="crayon_js-js"></script>





</head><body><div id="fb-root"></div><script>(function(d, s, id) {

	var js, fjs = d.getElementsByTagName(s)[0];

	if (d.getElementById(id)) return;

	js = d.createElement(s); js.id = id;

	js.src = '//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.3';

	fjs.parentNode.insertBefore(js, fjs);

	}(document, 'script', 'facebook-jssdk'));</script>	<style type="text/css">
		.header-image {
			background-image: url(/wp-content/uploads/2018/09/果醬珍珍_首圖_10.jpg);
			display: block;
		}
		@media only screen and (max-width: 1024px) {
			.header-inner {
				display: block;
			}
			.header-image {
				background-image: none;
				height: auto !important;
			}		
		}
	</style>
			<style type="text/css" id="wp-custom-css">
			.entry-content a {
	text-decoration: underline;
	color: #9f6ad4;
}		</style>
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
	

	




	<div class="preloader">
	    <div class="spinner">
	        <div class="pre-bounce1"></div>
	        <div class="pre-bounce2"></div>
	    </div>
	</div>
	
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">跳至主內容區</a>

	
	
	
	<div id="masthead" class="site-header" role="banner" style="display:none;"> 
		<div class="header-wrap">
            <div class="container">
                <div class="row">
				<div class="col-md-4 col-sm-8 col-xs-12">
		        					<a href="/" title="果醬珍珍•JamJam"><img class="site-logo" src="/wp-content/uploads/2018/09/grape_320.png" alt="果醬珍珍•JamJam"></a>
		        				</div>
				<div class="col-md-8 col-sm-4 col-xs-12">
					<div class="btn-menu"></div>
					<nav id="mainnav" class="mainnav" role="navigation">
						<div class="menu-jamleecute-container"><ul id="menu-jamleecute" class="menu"><li id="menu-item-1691" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1691"><a href="/category/programming-statistics/"> 程式與統計</a></li>
<li id="menu-item-626" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-626"><a href="/category/travel/">旅遊</a></li>
<li id="menu-item-627" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-627"><a href="/category/foodie/">美食</a></li>
<li id="menu-item-2415" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2415"><a href="/%e7%b0%a1%e4%bb%8b/">關於我</a></li>
</ul></div>					</nav>
				</div>
				</div>
			</div>
		</div>
	</div>
	
	
	

	
	<style>
	.header-img-bounding-box {
	  background-image: url("/wp-content/uploads/2018/09/%E8%83%8C%E6%99%AF%E5%8E%9F%E5%9C%96_v2.jpg");
    background-size:     cover;                      /* <------ */
    background-repeat:   no-repeat;
    background-position: center center;              /* optional, center the image */
/* 	height: 300px; */
	padding-top:55px;
	padding-bottom:55px;
		}
		.title_img {
		    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
		min-width: 340px;
			max-width: 800px;

		}
		
		
		.subtitle_img {
			display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
		min-width: 340px;
			max-width: 800px;
		}
		
		
		.subtitle_overlay {
			margin-top:20px;
			background-color: rgba(255, 255, 255, 0.7);
			padding-bottom:8px;
		}
	</style>
	
	<div>
		<a href="/">
		<div class="header-img-bounding-box">

			<img src="/wp-content/uploads/2018/09/title.png" class="title_img">
			<div class="subtitle_overlay">
			<img src="/wp-content/uploads/2018/09/subtitle.png" class="subtitle_img">
			</div>			
		</div>	
		</a>
	</div>
	
	
	
	<header>
		<nav id="my_mainnav" class="my_mainnav" role="navigation">
				<div class="menu-jamleecute-container"><ul id="menu-jamleecute-1" class="menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1691"><a href="/category/programming-statistics/"> 程式與統計</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-626"><a href="/category/travel/">旅遊</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-627"><a href="/category/foodie/">美食</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2415"><a href="/%e7%b0%a1%e4%bb%8b/">關於我</a></li>
</ul></div>		</nav>
	</header>

	
	
	
	<div id="content" class="page-wrap">
		
		
		
		<style>
			.home_intro {
				    margin: 0 12%;
					/*height: 400px;*/
    				/*background: yellow;*/
				
			}
			
			.home_intro .content{
				display: flex; 
    display: -webkit-flex;
    justify-content: center;
    -webkit-justify-content: center;
    flex-wrap: wrap;
			}
			.home_intro .content .intro {
				width: 240px;
    			
				margin: 0 auto;
				
			}
			.home_intro .content .intro .image {
				/*width: 240px;
    			padding: 0px;
				margin: 0 auto;
				display: inline-block;*/
			  position: relative;
			  width: 240px;
			  height: 240px;
			  overflow: hidden;
			  border-radius: 50%;
			}
			.home_intro .content .description{
				padding: 0 0px;
    			margin: 0 auto;
    			width: 240px;
				text-align: center;
			}
			.home_intro .content .social_icon {
				margin: 0 7px;
			}
			
			.circular--landscape {
			  display: inline-block;
			  position: relative;
			  width: 200px;
			  height: 200px;
			  overflow: hidden;
			  border-radius: 50%;
			}

			.home_intro .content .intro .image img {
			  width: auto;
			  height: 100%;
			  /*margin-left: -50px;*/
			}
		</style>
		

					
				
		
		<div class="container content-wrapper">
			<div class="row">	
				
				
				
	
	
	<div id="primary" class="content-area col-md-9 ">

		
		<main id="main" class="post-wrap" role="main">

		
			
<article id="post-743" class="post-743 post type-post status-publish format-standard has-post-thumbnail hentry category-programming-statistics category-statistics-model category-data-processing tag-knn tag-mice tag-missing-value-treatment tag-rpart tag-240">
	
	
			<div class="entry-thumb">
			<img width="6000" height="4000" src="/wp-content/uploads/2018/08/andrew-neel-308138-unsplash.jpg" class="attachment-large-thumb size-large-thumb wp-post-image" alt="andrew-neel-308138-unsplash" loading="lazy" srcset="/wp-content/uploads/2018/08/andrew-neel-308138-unsplash.jpg 6000w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-300x200.jpg 300w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-768x512.jpg 768w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-1024x683.jpg 1024w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-830x553.jpg 830w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-230x153.jpg 230w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-350x233.jpg 350w,/wp-content/uploads/2018/08/andrew-neel-308138-unsplash-480x320.jpg 480w" sizes="(max-width: 6000px) 100vw, 6000px">		</div>
		
	<header class="entry-header">
		
		<div class="meta-post">
			<a href="/category/programming-statistics/" title=" 程式與統計" class="post-cat"> 程式與統計</a><a href="/category/programming-statistics/statistics-model/" title="統計模型" class="post-cat">統計模型</a><a href="/category/programming-statistics/data-processing/" title="資料處理" class="post-cat">資料處理</a>		</div>

		<h1 class="title-post entry-title">Missing Value Treatment | 遺失值處理 | 統計 R語言</h1>
				<div class="single-meta">
			<span class="posted-on">發表於 <a href="/missing-value-treatment-%e9%81%ba%e5%a4%b1%e5%80%bc%e8%99%95%e7%90%86/" rel="bookmark"><time class="entry-date published" datetime="2018-08-28T18:50:19+08:00">2018-08-28</time><time class="updated" datetime="2020-07-03T10:34:50+08:00">2020-07-03</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="/author/jamleecute/">jamleecute</a></span></span>		</div>
			</header>

	

	<div class="entry-content">
		<p>在進行資料分析時，常遇到的問題就是遺失值處理(Missing Value Treatment)。特別是重要特徵變數有遺失值時，是無法輕易忽略的。比如說，在進行回歸模型建置時，資料列若有任一特徵值是NA(Not Available)時，整列資料就將 被忽略不使用，這樣無疑會使我們失去很多資訊。</p>
<h3>Missing Value Treatment</h3>
<p>一般來說，我們會先判斷遺失資料在整體資料中所佔比例，若極小比例，是可以直接刪除資料列。但如果特徵變數中有超過5％的遺失比例，就得進行遺失值處理(Missing Value Treatment)。</p>
<p>本篇將介紹常用的幾種Missing Value Treatment，依據不同狀況而使用，包括：</p>
<ol>
<li>刪除有遺失值的資料列</li>
<li>刪除特徵變數</li>
<li>使用平均數(mean)/中位數(median)/眾數(mode)填補</li>
<li>預測(Prediction)
<ol>
<li>kNN (k-Nearest Neighbours)</li>
<li>rpart (決策樹)</li>
<li>MICE (Multivariate Imputation by Chained Equations)</li>
</ol>
</li>
</ol>
<h3>資料集準備</h3>
<p>我們將使用mlbench package中的BostonHousing資料集來進行遺失值處理示範。由於BostonHousing原始資料集是沒有遺失值的，所以我們會隨機插入遺失值。最後則將預測值與實際值進行比較，以評估各個遺失值處理法的效果好壞。</p>
<p>首先，我們載入資料集，並隨機將變數rad和ptraio的40列變成遺失值NA。</p>

		<div id="crayon-60ed8749a6623770749360" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
data("BostonHousing", package = "mlbench")
original <- BostonHousing

set.seed(100)
BostonHousing[sample(1:nrow(BostonHousing),40),"rad"] <- NA
BostonHousing[sample(1:nrow(BostonHousing),40), "ptratio"] <- NA
head(BostonHousing)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6623770749360-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6623770749360-1">data("BostonHousing", package = "mlbench")</div><div class="crayon-line" id="crayon-60ed8749a6623770749360-2">original <div class="crayon-line" id="crayon-60ed8749a6623770749360-3"> </div><div class="crayon-line" id="crayon-60ed8749a6623770749360-4">set.seed(100)</div><div class="crayon-line" id="crayon-60ed8749a6623770749360-5">BostonHousing[sample(1:nrow(BostonHousing),40),"rad"] <div class="crayon-line" id="crayon-60ed8749a6623770749360-6">BostonHousing[sample(1:nrow(BostonHousing),40), "ptratio"] <div class="crayon-line" id="crayon-60ed8749a6623770749360-7">head(BostonHousing)</div></div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>檢視隨機插入遺失值得資料頭幾列。</p>

		<div id="crayon-60ed8749a6629764940544" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
> head(BostonHousing)
crim zn indus chas nox rm age dis rad tax ptratio b lstat medv
1 0.00632 18 2.31 0 0.538 6.58 65.2 4.09 1 296 15.3 397 4.98 24.0
2 0.02731 0 7.07 0 0.469 6.42 78.9 4.97 2 242 17.8 397 9.14 21.6
3 0.02729 0 7.07 0 0.469 7.18 61.1 4.97 2 242 17.8 393 4.03 34.7
4 0.03237 0 2.18 0 0.458 7.00 45.8 6.06 3 222 18.7 395 2.94 33.4
5 0.06905 0 2.18 0 0.458 7.15 54.2 6.06 3 222 18.7 397 5.33 36.2
6 0.02985 0 2.18 0 0.458 6.43 58.7 6.06 3 222 18.7 394 5.21 28.7</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-7">7</div><div class="crayon-num" data-line="crayon-60ed8749a6629764940544-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6629764940544-1">> head(BostonHousing)</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-2">crim zn indus chas nox rm age dis rad tax ptratio b lstat medv</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-3">1 0.00632 18 2.31 0 0.538 6.58 65.2 4.09 1 296 15.3 397 4.98 24.0</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-4">2 0.02731 0 7.07 0 0.469 6.42 78.9 4.97 2 242 17.8 397 9.14 21.6</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-5">3 0.02729 0 7.07 0 0.469 7.18 61.1 4.97 2 242 17.8 393 4.03 34.7</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-6">4 0.03237 0 2.18 0 0.458 7.00 45.8 6.06 3 222 18.7 395 2.94 33.4</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-7">5 0.06905 0 2.18 0 0.458 7.15 54.2 6.06 3 222 18.7 397 5.33 36.2</div><div class="crayon-line" id="crayon-60ed8749a6629764940544-8">6 0.02985 0 2.18 0 0.458 6.43 58.7 6.06 3 222 18.7 394 5.21 28.7</div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>接著，我們使用的mice套件檢視資料遺失值分佈的pattern。</p>

		<div id="crayon-60ed8749a662b792046456" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
install.packages("mice")
library(mice)
md.pattern(BostonHousing) # missing data pattern

# crim zn indus chas nox rm age dis rad tax ptratio b lstat medv
# 1 0.00632 18 2.31 0 0.538 6.58 65.2 4.09 1 296 15.3 397 4.98 24.0
# 2 0.02731 0 7.07 0 0.469 6.42 78.9 4.97 2 242 17.8 397 9.14 21.6
# 3 0.02729 0 7.07 0 0.469 7.18 61.1 4.97 2 242 17.8 393 4.03 34.7
# 4 0.03237 0 2.18 0 0.458 7.00 45.8 6.06 3 222 18.7 395 2.94 33.4
# 5 0.06905 0 2.18 0 0.458 7.15 54.2 6.06 3 222 18.7 397 5.33 36.2
# 6 0.02985 0 2.18 0 0.458 6.43 58.7 6.06 3 222 18.7 394 5.21 28.7</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-7">7</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-8">8</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-9">9</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-10">10</div><div class="crayon-num" data-line="crayon-60ed8749a662b792046456-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a662b792046456-1">install.packages("mice")</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-2">library(mice)</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-3">md.pattern(BostonHousing) # missing data pattern</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-4"> </div><div class="crayon-line" id="crayon-60ed8749a662b792046456-5"># crim zn indus chas nox rm age dis rad tax ptratio b lstat medv</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-6"># 1 0.00632 18 2.31 0 0.538 6.58 65.2 4.09 1 296 15.3 397 4.98 24.0</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-7"># 2 0.02731 0 7.07 0 0.469 6.42 78.9 4.97 2 242 17.8 397 9.14 21.6</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-8"># 3 0.02729 0 7.07 0 0.469 7.18 61.1 4.97 2 242 17.8 393 4.03 34.7</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-9"># 4 0.03237 0 2.18 0 0.458 7.00 45.8 6.06 3 222 18.7 395 2.94 33.4</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-10"># 5 0.06905 0 2.18 0 0.458 7.15 54.2 6.06 3 222 18.7 397 5.33 36.2</div><div class="crayon-line" id="crayon-60ed8749a662b792046456-11"># 6 0.02985 0 2.18 0 0.458 6.43 58.7 6.06 3 222 18.7 394 5.21 28.7</div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p></p>
<h3>1. 刪除資料列法</h3>
<p>如果資料集數量夠大，且要預測的事件在訓練資料集中有足夠具代表性的比重，可以選擇忽略遺失資料列。可以在建立模型時，將參數設成na.action=na.omit。務必要確保：(1)資料量夠大，模型不會失去預測能力(2)不構成偏差，即原始目標事件比例不會因為刪除遺失值而發生改變</p>

		<div id="crayon-60ed8749a662d192031042" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
# example 1
lm(medv ~ ptratio + rad, data = BostonHousing, na.action = na.omit) # 雖然na.omit是預設值</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a662d192031042-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a662d192031042-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a662d192031042-1"># example 1</div><div class="crayon-line" id="crayon-60ed8749a662d192031042-2">lm(medv ~ ptratio + rad, data = BostonHousing, na.action = na.omit) # 雖然na.omit是預設值</div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p></p>
<h3>2. 刪除特徵變數法</h3>
<p>如果該特徵變數遺失值得數量較其他變數都來的多，而且如果移除該變數你可以拯救許多筆資料，你可以考慮將該變數移除，除非該變數在業務經驗中是很重要的變數。屬於一種「變數重要性」與「遺失資料數」之間的抉擇。</p>
<h3>3. 使用平均數(mean)/中位數(median)/眾數(mode)填補</h3>
<p>使用平均數/中位數/眾數填補遺失值是一個較粗糙的手段，視情況而定，如果該變數變異性低或是對目標變數的影響利沒這麼高，則此粗略的近似法是可被接受，且可能可以產生不錯的結果。</p>

		<div id="crayon-60ed8749a662e877905559" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
# 可以使用Hmisc套件的imputte()來填補
library(Hmisc)
impute(BostonHousing$ptratio, mean)  # replace with mean
impute(BostonHousing$ptratio, median)  # median
impute(BostonHousing$ptratio, 20)  # replace specific number
# 或是手動填補
BostonHousing$ptratio[is.na(BostonHousing$ptratio)] <- mean(BostonHousing$ptratio, na.rm = T)  # not run</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a662e877905559-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a662e877905559-1"># 可以使用Hmisc套件的imputte()來填補</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-2">library(Hmisc)</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-3">impute(BostonHousing$ptratio, mean)  # replace with mean</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-4">impute(BostonHousing$ptratio, median)  # median</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-5">impute(BostonHousing$ptratio, 20)  # replace specific number</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-6"># 或是手動填補</div><div class="crayon-line" id="crayon-60ed8749a662e877905559-7">BostonHousing$ptratio[is.na(BostonHousing$ptratio)] </div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>我們來計算使用平均值填補的正確率。</p>

		<div id="crayon-60ed8749a6630172410808" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
library(DMwR)
actuals <- original$ptratio[is.na(BostonHousing$ptratio)]
predicteds <- rep(mean(BostonHousing$ptratio, na.rm = TRUE), length(actuals))
regr.eval(trues = actuals,preds = predicteds)

# > regr.eval(trues = actuals,preds = predicteds)
#   mae    mse   rmse   mape 
#   1.6232 4.1931 2.0477 0.0955</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-7">7</div><div class="crayon-num" data-line="crayon-60ed8749a6630172410808-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6630172410808-1">library(DMwR)</div><div class="crayon-line" id="crayon-60ed8749a6630172410808-2">actuals <div class="crayon-line" id="crayon-60ed8749a6630172410808-3">predicteds <div class="crayon-line" id="crayon-60ed8749a6630172410808-4">regr.eval(trues = actuals,preds = predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6630172410808-5"> </div><div class="crayon-line" id="crayon-60ed8749a6630172410808-6"># > regr.eval(trues = actuals,preds = predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6630172410808-7">#   mae    mse   rmse   mape </div><div class="crayon-line" id="crayon-60ed8749a6630172410808-8">#   1.6232 4.1931 2.0477 0.0955</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><span style="color: #333333;">其中幾個</span><span style="color: #0000ff;"><span style="color: #333333;">衡量</span><span style="color: #9f6ad4;">預測精準(Forcast Accuracy)</span></span>的方法如下：</p>
<p><span style="color: #9f6ad4;">MAPE代表的是平均絕對誤差百分比(mean absolute percentage error)</span>。</p>
<p>$$MAPE=\frac{1}{n}\sum_{t=1}^n\left|\frac{y_{t}-\hat{y_{t}}}{y_{t}}\right|$$</p>
<p>其中，\(\hat{y_{t}}\)代表預測值，\(y_{t}\)則為實際值。</p>
<p><span style="color: #9f6ad4;">RSME代表均方根誤差(Root-Square-Mean Error)</span>。</p>
<p>$$RSME=\sqrt\frac{\sum_{t=1}^n(\hat{y_{t}}-y_{t})^2}{n}$$</p>
<p><span style="color: #9f6ad4;">MSE代表均方誤差(Mean-Square Error)</span>。即絕對誤差的平均值。</p>
<p>$$MSE=\frac{\sum_{t=1}^n(\hat{y_{t}}-y_{t})^2}{n}$$</p>
<p><span style="color: #9f6ad4;">MAE代表平均絕對誤差(mean absolute error)</span>。</p>
<p>$$MAE=\frac{\sum_{t=1}^n(\hat{y_{t}}-y_{t})}{n}$$</p>
<p>我們可以看到平均值填補的MAPE(平均絕對誤差百分比)為0.0955。</p>
<div align="center"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br>
<br>
<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7946632597933771" data-ad-slot="8154450369" data-ad-format="auto" data-full-width-responsive="true"></ins><br>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<h3>4. 預測(Prediction)</h3>
<h4>4-1. kNN法(k-Nearest Neighbours)</h4>
<p>套件DMwR中的knnImputation法，使用k個最鄰近的資料點來做估計遺失值。簡單來說，就是會根據每個遺失資料點，去計算歐幾里得距離找出最鄰近的k個資料點，並計算這k個資料加權平均值(使用距離加權)來填補。<span style="color: #9f6ad4;">優點是，你可以呼叫一次此函數，即可一次填補完所有特徵變數中的遺失值</span>。你也不需要指定要填補的變數，因為該函數式使用所有資料集當作參數。<span style="color: #9f6ad4;">但必須注意，不能將目標變數納入預測參數中</span>，因為在測試/正式預測環境中，如果資料有遺失值，你是無法使用未知的目標變數來當作預測變數的。</p>

		<div id="crayon-60ed8749a6631538827912" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
library(DMwR)
# 將目標變數移除，進行knn預測填補
knnOutput <- knnImputation(data = BostonHousing[,!names(BostonHousing)%in% 'medv'])
anyNA(knnOutput)

# > anyNA(knnOutput)
#   [1] FALSE</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6631538827912-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6631538827912-1">library(DMwR)</div><div class="crayon-line" id="crayon-60ed8749a6631538827912-2"># 將目標變數移除，進行knn預測填補</div><div class="crayon-line" id="crayon-60ed8749a6631538827912-3">knnOutput <div class="crayon-line" id="crayon-60ed8749a6631538827912-4">anyNA(knnOutput)</div><div class="crayon-line" id="crayon-60ed8749a6631538827912-5"> </div><div class="crayon-line" id="crayon-60ed8749a6631538827912-6"># > anyNA(knnOutput)</div><div class="crayon-line" id="crayon-60ed8749a6631538827912-7">#   [1] FALSE</div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>計算使用k-NN法的精準度。</p>

		<div id="crayon-60ed8749a6633540467033" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
actuals <- original$ptratio[is.na(BostonHousing$ptratio)]
predicteds <- knnOutput[is.na(BostonHousing$ptratio), "ptratio"]
regr.eval(actuals, predicteds)

#        mae        mse       rmse       mape 
# 1.00188715 1.97910183 1.40680554 0.05859526</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6633540467033-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6633540467033-1">actuals <div class="crayon-line" id="crayon-60ed8749a6633540467033-2">predicteds <div class="crayon-line" id="crayon-60ed8749a6633540467033-3">regr.eval(actuals, predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6633540467033-4"> </div><div class="crayon-line" id="crayon-60ed8749a6633540467033-5">#        mae        mse       rmse       mape </div><div class="crayon-line" id="crayon-60ed8749a6633540467033-6"># 1.00188715 1.97910183 1.40680554 0.05859526</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>其中MAPE(平均絕對誤差百分比)為0.059(<0.0955)。誤差值較平均值填補法改善(降低)了38%。</p>
<h4>4-2. 決策樹(rpart)</h4>
<p><span style="text-decoration: underline;">kNN法的限制就是，如果<span style="color: #9f6ad4; text-decoration: underline;">遺失值是factor(類別變數)</span>，則不能使用</span>。而<span style="color: #9f6ad4;">函數rpat()和mice()則能處理這個情況。函數rpart()的優勢就是，預測變數中，只要有一個變數沒有遺失值即可</span>。(更多有關決策樹遺失值填補: <a href="/decision_tree_surrogate_in_cart/" target="_blank" rel="noopener noreferrer">Tree Surrogate in CART</a>)</p>
<p>我們來使用rpart()處理遺失直預測。</p>
<ul>
<li>如果要預測的目標變數為類別變數，則將參數設定為method=class。</li>
<li>如果要預測的目標變數為數值變數，則間參數設定為method=anova。</li>
<li>並同樣注意，不要將目標變數投入為預測變數了。</li>
</ul>
<p></p>

		<div id="crayon-60ed8749a6634027145698" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
library(rpart)

# 預測類別變數model
class_mod <- rpart(formula = rad ~ . -medv, data = BostonHousing[!is.na(BostonHousing$rad),], method = "class", na.action = na.omit)
# 預測數值變數model
anova_mod <- rpart(formula = ptratio ~ . -medv, data = BostonHousing[!is.na(BostonHousing$ptratio),], method = "anova", na.action = na.omit)

rad_predict <- predict(object = class_mod,newdata = BostonHousing[is.na(BostonHousing$rad),])
ptratio_predict <- predict(object = anova_mod, newdata = BostonHousing[is.na(BostonHousing$ptratio),])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-7">7</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-8">8</div><div class="crayon-num" data-line="crayon-60ed8749a6634027145698-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6634027145698-1">library(rpart)</div><div class="crayon-line" id="crayon-60ed8749a6634027145698-2"> </div><div class="crayon-line" id="crayon-60ed8749a6634027145698-3"># 預測類別變數model</div><div class="crayon-line" id="crayon-60ed8749a6634027145698-4">class_mod <div class="crayon-line" id="crayon-60ed8749a6634027145698-5"># 預測數值變數model</div><div class="crayon-line" id="crayon-60ed8749a6634027145698-6">anova_mod <div class="crayon-line" id="crayon-60ed8749a6634027145698-7"> </div><div class="crayon-line" id="crayon-60ed8749a6634027145698-8">rad_predict <div class="crayon-line" id="crayon-60ed8749a6634027145698-9">ptratio_predict </div></div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>計算使用rpart決策樹法填補ptratio的精準度：</p>

		<div id="crayon-60ed8749a6636333809535" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
actuals <- original$ptratio[is.na(BostonHousing$ptratio)]
predicteds <- ptratio_predict
regr.eval(trues = actuals, preds = predicteds)

#        mae        mse       rmse       mape 
# 0.71061673 0.99693845 0.99846805 0.04099908</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6636333809535-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6636333809535-1">actuals <div class="crayon-line" id="crayon-60ed8749a6636333809535-2">predicteds <div class="crayon-line" id="crayon-60ed8749a6636333809535-3">regr.eval(trues = actuals, preds = predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6636333809535-4"> </div><div class="crayon-line" id="crayon-60ed8749a6636333809535-5">#        mae        mse       rmse       mape </div><div class="crayon-line" id="crayon-60ed8749a6636333809535-6"># 0.71061673 0.99693845 0.99846805 0.04099908</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>比較起kNN法，MAPE(平均絕對誤差百分比)改善(降低)了30%(from 0.059 to 0.041)。</p>
<p>計算使用rpart決策樹法填補rad的精準度：</p>

		<div id="crayon-60ed8749a6637225122901" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
actuals <- original$rad[is.na(BostonHousing$rad)]
predicteds <- as.numeric(colnames(rad_predict)[apply(rad_predict, 1, which.max)])
mean(actuals != predicteds)
# > mean(actuals != predicteds)
#   [1] 0.25</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6637225122901-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6637225122901-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6637225122901-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6637225122901-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6637225122901-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6637225122901-1">actuals <div class="crayon-line" id="crayon-60ed8749a6637225122901-2">predicteds <div class="crayon-line" id="crayon-60ed8749a6637225122901-3">mean(actuals != predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6637225122901-4"># > mean(actuals != predicteds)</div><div class="crayon-line" id="crayon-60ed8749a6637225122901-5">#   [1] 0.25</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p></p>
<h4>4-3. MICE (Multivariate Imputation by Chained Equations)</h4>
<ul>
<li>MICE是 Multivariate Imputation by Chained Equations 的縮寫，是一套R進階處理遺失值得套件。</li>
<li>他的做法稍微特殊一點，將遺失值處理分成兩階段來進行，先是使用mice()來建立預測模型，在使用complete()來產生填補完整後的資料集。</li>
<li>mice(df)會產生多組不同資料填補後的資料集結果，而complete()則會使用其中一組填補結果來完整資料集，預設為第一組。</li>
</ul>
<div><strong>MICE代表： Multivariate Imputations by Chained Equations (MICE)，具有以下幾個特點：</strong></div>
<ul>
<li>
<div>主要可用來產生多元變數(multivariate)的多組空值填補值(multiple imputations)（可透過mice()函式中的參數m，number of mutiple imputations，來指定要產生幾組填補值解，預設為5組）。</div>
</li>
<li>
<div>透過<a href="https://zh.wikipedia.org/wiki/%E5%90%89%E5%B8%83%E6%96%AF%E9%87%87%E6%A0%B7">Gibbs sampling</a>法來對多元變數產稱多組空值填補值。</div>
</li>
<li>
<div>MICE填補方法是採用Fully Conditional Specification，即每一個不完整的變數都是分別用獨立的模型來預測空值的。</div>
</li>
<li>
<div>MICE可處理連續型變數(continuous)、二元變數(binary)、無順序類別型變數(unordered categorical)、有序類別變數(ordered categorical)。</div>
</li>
<li>
<div>MICE在預測目標欄位時(target column)，預設會使用其他非目標欄位來作為預測變數(predictors)。如遇預測變數本身也不完整的情況，最新產生的一組填補值會被用來完整預測變數，再進行目標變數的填補預測。</div>
</li>
<li>
<div>我們可以替不同欄位指定各自的單變數填補模型(univariate imputation model)，使用方法範例：mice(data, meth=c(‘sample’,’pmm’,’logreg’,’norm’)))。</div>
</li>
<li>
<div>單變數填補模型可以使用內建的方法或是自訂方法(mice.impute.myfunc)(mice(method = c(“xxx”, “myfunc”))。</div>
</li>
<li>
<div>常見的幾種內建填補模型包括：</div>
</li>
<li>
<ul>
<li>
<div>pmm (Predictive mean matching) : 任何變數型態</div>
</li>
<li>
<div>cart (Classification and regression trees) : 任何變數型態</div>
</li>
<li>
<div>rf (Random forest imputations) : 任何變數型態</div>
</li>
<li>
<div>logreg (Logistic regression) : 二元類別型態 (binary)</div>
</li>
</ul>
</li>
</ul>
<div><strong>MICE package套件中的主要函式說明：</strong></div>
<ul>
<li>
<div>md.pattern() : inspect the missing data pattern</div>
</li>
<li>
<div>mice(): impute the missing values *m* times</div>
</li>
<li>
<div>with(): analyzed completed data sets => Performs a computation of each of imputed datasets in data. with (data, expr = formula, …)。將產生的m組填補值套用到計算公式。</div>
</li>
<li>
<div>pool(): combine parameter estimates => Pool the results of the repeated analyses。綜合m組填補數據所產生的模型的估計係數(estimates)、標準差(std.error)、和p-value。</div>
</li>
<li>
<div><a href="https://www.rdocumentation.org/packages/mice/versions/3.3.0/topics/pool.compare">pool.compare()</a> : pool.compare(fit1, fit0, method = c(“wald”, “likelihood”), data = NULL)。使用方法”wald”或”likelihood”來比較兩種模型公式套用在所有填補數據的綜合結果。</div>
</li>
<li>
<div>complete(): export imputed data 儲存和輸出其中一組完整填補數據</div>
</li>
<li>
<div>ampute(): generate missing data => Generate simulated incomplete data 產生模擬的不完整數據</div>
</li>
</ul>
<p>我們來看看如何使用mice()法來預測ptratio和rad。</p>

		<div id="crayon-60ed8749a6639115667524" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
library(mice)
miceMod <- mice(data = BostonHousing[,!names(BostonHousing) %in% "medv"],
                method = "rf", #可以指定單一或多個補值法for不同的欄位，If specified as a single string, the same method will be used for all blocks
                m = 5, #可以指定產生幾組預測果，預設為五組
                maxit = 5 #可以指定迭代次數，預設為五次
                ) # perform mice imputation, based on random forests.
miceOutput <- complete(miceMod,action = 1) #Complete a data frame with missing combinations of data. 預設action為第一組資料。

anyNA(miceOutput)
# [1] FALSE</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-6">6</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-7">7</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-8">8</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-9">9</div><div class="crayon-num" data-line="crayon-60ed8749a6639115667524-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a6639115667524-1">library(mice)</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-2">miceMod <div class="crayon-line" id="crayon-60ed8749a6639115667524-3">                method = "rf", #可以指定單一或多個補值法for不同的欄位，If specified as a single string, the same method will be used for all blocks</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-4">                m = 5, #可以指定產生幾組預測果，預設為五組</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-5">                maxit = 5 #可以指定迭代次數，預設為五次</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-6">                ) # perform mice imputation, based on random forests.</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-7">miceOutput <div class="crayon-line" id="crayon-60ed8749a6639115667524-8"> </div><div class="crayon-line" id="crayon-60ed8749a6639115667524-9">anyNA(miceOutput)</div><div class="crayon-line" id="crayon-60ed8749a6639115667524-10"># [1] FALSE</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>計算使用MICE法填補ptratio的精準度：</p>

		<div id="crayon-60ed8749a663b506499471" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
actuals <- original$ptratio[is.na(BostonHousing$ptratio)]
predicteds <- miceOutput[is.na(BostonHousing$ptratio),"ptratio"]
regr.eval(actuals,predicteds)

#        mae        mse       rmse       mape 
# 0.35000000 0.77700000 0.88147603 0.01965896</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-4">4</div><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-5">5</div><div class="crayon-num" data-line="crayon-60ed8749a663b506499471-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a663b506499471-1">actuals <div class="crayon-line" id="crayon-60ed8749a663b506499471-2">predicteds <div class="crayon-line" id="crayon-60ed8749a663b506499471-3">regr.eval(actuals,predicteds)</div><div class="crayon-line" id="crayon-60ed8749a663b506499471-4"> </div><div class="crayon-line" id="crayon-60ed8749a663b506499471-5">#        mae        mse       rmse       mape </div><div class="crayon-line" id="crayon-60ed8749a663b506499471-6"># 0.35000000 0.77700000 0.88147603 0.01965896</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>使用MICE法填補ptraio的MAPE(平均絕對誤差百分比)較rpart決策樹法改進（降低）了48% (from 0.041 to 0.020)。</p>
<p>計算使用MICE法填補rad的精準度：</p>

		<div id="crayon-60ed8749a663c257758134" class="crayon-syntax crayon-theme-hwj-based-on-monokai crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
actuals <- original$rad[is.na(BostonHousing$rad)]
predicteds <- miceOutput[is.na(BostonHousing$rad),"rad"]
mean(actuals != predicteds) 
# [1] 0.225</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-60ed8749a663c257758134-1">1</div><div class="crayon-num" data-line="crayon-60ed8749a663c257758134-2">2</div><div class="crayon-num" data-line="crayon-60ed8749a663c257758134-3">3</div><div class="crayon-num" data-line="crayon-60ed8749a663c257758134-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-60ed8749a663c257758134-1">actuals <div class="crayon-line" id="crayon-60ed8749a663c257758134-2">predicteds <div class="crayon-line" id="crayon-60ed8749a663c257758134-3">mean(actuals != predicteds) </div><div class="crayon-line" id="crayon-60ed8749a663c257758134-4"># [1] 0.225</div></div></div></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>使用MICE法填補rad的誤差較rpart決策樹法改進（降低）了10% （from 0.25 to 0.225)。</p>
<div align="center"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><br>
<br>
<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7946632597933771" data-ad-slot="8154450369" data-ad-format="auto" data-full-width-responsive="true"></ins><br>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<hr>
<p>更多遺失值處理參考文章：</p>
<ol>
<li><a href="https://www.analyticsvidhya.com/blog/2016/03/tutorial-powerful-packages-imputing-missing-values/" target="_blank" rel="noopener noreferrer">Tutorial on 5 Powerful R Packages used for imputing missing values</a></li>
<li><a href="https://www.r-bloggers.com/imputing-missing-data-with-r-mice-package/" target="_blank" rel="noopener noreferrer">Imputing missing data with R; MICE package</a></li>
<li><a href="https://tinyurl.com/y796qqca">歐萊禮  R資料科學</a></li>
</ol>
			</div>

	<footer class="entry-footer">
		<span class="tags-links"> <a href="/tag/knn/" rel="tag">knn</a>0<a href="/tag/mice/" rel="tag">mice</a>0<a href="/tag/missing-value-treatment/" rel="tag">missing value treatment</a>0<a href="/tag/rpart/" rel="tag">rpart</a>0<a href="/tag/%e9%81%ba%e5%a4%b1%e5%80%bc%e8%99%95%e7%90%86/" rel="tag">遺失值處理</a></span>	</footer>

	
</article>

				<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">文章導覽列</h2>
		<div class="nav-links clearfix">
			<div class="nav-previous"><span>⟵</span><a href="/logistic-regression-part2-%e7%be%85%e5%90%89%e6%96%af%e8%bf%b4%e6%ad%b8/" rel="prev">Logistic Regression 羅吉斯迴歸 | part2 – 模型建置、診斷與比較 | R語言</a></div><div class="nav-next"><a href="/summarize-categorical-variables/" rel="next">Summarize Categorical Variables | 類別變數摘要 | 統計 R語言</a><span>⟶</span></div>		</div>
	</nav>
	
			
<div id="comments" class="comments-area">

	
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">發佈留言 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/missing-value-treatment-%e9%81%ba%e5%a4%b1%e5%80%bc%e8%99%95%e7%90%86/#respond" style="display:none;">取消回覆</a></small></h3><form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">發佈留言必須填寫的電子郵件地址不會公開。</span> 必填欄位標示為 <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">留言</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">顯示名稱 <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">電子郵件地址 <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">個人網站網址</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="發佈留言"> <input type="hidden" name="comment_post_ID" value="743" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><div class="wantispam-required-fields"><input type="hidden" name="wantispam_t" class="wantispam-control wantispam-control-t" value="1626179401"><div class="wantispam-group wantispam-group-q" style="clear: both;">
					<label>Current ye@r <span class="required">*</span></label>
					<input type="hidden" name="wantispam_a" class="wantispam-control wantispam-control-a" value="2021">
					<input type="text" name="wantispam_q" class="wantispam-control wantispam-control-q" value="7.2.0" autocomplete="off">
				  </div>
<div class="wantispam-group wantispam-group-e" style="display: none;">
					<label>Leave this field empty</label>
					<input type="text" name="wantispam_e_email_url_website" class="wantispam-control wantispam-control-e" value="" autocomplete="off">
				  </div>
</div></form>	</div>
	
</div>

		
		</main>
	</div>

	

<div id="secondary" class="widget-area col-md-3" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">搜尋關鍵字:</span>
					<input type="search" class="search-field" placeholder="搜尋..." value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="搜尋">
			</form></aside>
		<aside id="recent-posts-2" class="widget widget_recent_entries">
		<h3 class="widget-title">近期文章</h3>
		<ul>
											<li>
					<a href="/jbs-diner/">JB’s Diner | 陽光、綠意、自然度假風美式早午餐 | 台北 天母</a>
									</li>
											<li>
					<a href="/%e9%82%80%e6%9c%88%e5%85%92/">邀月兒 | 適合放鬆小酌的迷人高級餐酒館 | 台北 民生社區 富錦街</a>
									</li>
											<li>
					<a href="/eslite-cafe-%e4%bf%a1%e7%be%a9%e8%aa%a0%e5%93%81%e5%92%96%e5%95%a1/">信義誠品咖啡 Eslite Café | 美美的 優雅的 文青咖啡廳 | 台北 信義區</a>
									</li>
											<li>
					<a href="/%e5%b0%8f%e9%bc%8e%e8%86%be/">小鼎膾 | 新鮮美味的高品質日式丼飯、海鮮料理 | 台北信義 Bellavita B2</a>
									</li>
											<li>
					<a href="/gradient-boosting-machines-gbm/">Gradient Boosting Machines GBM | gbm, xgboost, h2o | R語言</a>
									</li>
					</ul>

		</aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">彙整</h3>
			<ul>
					<li><a href="/2019/08/">2019 年 8 月</a></li>
	<li><a href="/2019/04/">2019 年 4 月</a></li>
	<li><a href="/2019/03/">2019 年 3 月</a></li>
	<li><a href="/2019/02/">2019 年 2 月</a></li>
	<li><a href="/2019/01/">2019 年 1 月</a></li>
	<li><a href="/2018/12/">2018 年 12 月</a></li>
	<li><a href="/2018/10/">2018 年 10 月</a></li>
	<li><a href="/2018/09/">2018 年 9 月</a></li>
	<li><a href="/2018/08/">2018 年 8 月</a></li>
	<li><a href="/2018/07/">2018 年 7 月</a></li>
	<li><a href="/2018/05/">2018 年 5 月</a></li>
			</ul>

			</aside></div>
			</div>
		</div>
	</div>

	
	
    <a class="go-top"><i class="fa fa-angle-up"></i></a>
		
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info container">
			<a href="https://tw.wordpress.org/">本站採用 WordPress 建置</a>
			<span class="sep"> | </span>
			佈景主題採用由 aThemes 所設計的 <a href="https://athemes.com/theme/sydney" rel="designer">Sydney</a>。		</div>
	</footer>

	
</div>


<script type="text/javascript">
var sbiajaxurl = "/wp-admin/admin-ajax.php";
</script>
<script type="text/javascript" src="/wp-content/plugins/anti-spam/assets/js/anti-spam.js" id="anti-spam-script-js"></script>
<script type="text/javascript" src="/wp-content/themes/hwj-based-on-sydney/js/scripts.js" id="sydney-scripts-js"></script>
<script type="text/javascript" src="/wp-content/themes/hwj-based-on-sydney/js/main.min.js" id="sydney-main-js"></script>
<script type="text/javascript" src="/wp-content/themes/hwj-based-on-sydney/js/skip-link-focus-fix.js" id="sydney-skip-link-focus-fix-js"></script>


</body></html>
